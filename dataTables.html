<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <!-- <link href="favicon.ico" rel="shortcut icon" type="image/x-icon"> -->
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Objective: Increase economic investment and neighborhood stability</title>
    <!-- Custom CSS-->
    <link href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" rel="stylesheet">

<!-- font awesome-->
<!-- Global site tag (gtag.js) - Google Analytics -->
    </script>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/jq-3.3.1/dt-1.10.18/b-1.5.6/cr-1.5.0/fc-3.2.5/fh-3.1.4/kt-2.5.0/r-2.2.2/rg-1.1.0/rr-1.2.4/sc-2.0.0/sl-1.3.0/datatables.min.css"/>
 


</head>

<body>
        <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/jq-3.3.1/dt-1.10.18/b-1.5.6/cr-1.5.0/fc-3.2.5/fh-3.1.4/kt-2.5.0/r-2.2.2/rg-1.1.0/rr-1.2.4/sc-2.0.0/sl-1.3.0/datatables.min.js"></script>
    <script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>   <script src="JS/scripts.js"></script>

  <script src="https://d3js.org/d3-dsv.v1.min.js">
  </script> 
  <script src="https://d3js.org/d3-array.v2.min.js">
  </script> <!-- CUSTOM SCRIPTS-->
  <script type="text/javascript" charset="utf-8">
  

  async function dataRun(key){ 
				var combinationData =   await getData('data/combined_data_v4.csv').then(async function(data) {return data;});
                combinationDataCSVGroup = d3.group(await d3.csvParse(combinationData), d => d.OKR, d => d.Name);
                var combinationDataCSVGroup = combinationDataCSVGroup.get(key).get(undefined);
                return combinationDataCSVGroup;
  }
  </script>
  <script>
      

dataRun('obj1kr1').then(function(data){
    console.log(data);
                    example = $("#example").DataTable({
                        "responsive": true,
                        "columns": data.meta.fields.map(c => ({
                            "title": c,
                            "data": c,
                            "visible": c.toLowerCase() !== "id",
                            "default": ""
                        })),
                        "data": data,
                        "drawCallback": function(settings) {
                            timer.end = moment();
                            let duration = moment.duration(timer.end.diff(timer.start));
                            console.log("timer", timer);
                            console.log("duration", duration.asSeconds());
                        }
                    });
                });
                


  </script>
        <input type="file" id="input">
    <hr/>
    <table id="example">
    </table>

    
</body>

</html>