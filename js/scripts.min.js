async function generateKeyResult(key,TargetName,mode,keyMode,combinationData,keyResultBanner,combinedPercentData,money,indicatorRange){if(null==key||null==TargetName||null==mode||null==keyMode||null==combinationData||null==keyResultBanner||null==combinedPercentData||null==money||null==indicatorRange)console.log("One of the gernerateKeyResult values is null.(gernerateKeyResult)");else if("string"!=typeof combinationData||"string"!=typeof keyResultBanner||"string"!=typeof combinedPercentData||"string"!=typeof key||"string"!=typeof TargetName)console.log("combinationData,keyResultBanner, combinedPercentData,key, or TargetName aren't strings.(gernerateKeyResult)");else if("number"!=typeof mode||"number"!=typeof keyMode||"number"!=typeof money)console.log("mode, keyMode, or money aren't numbers.(gernerateKeyResult) ");else if(indicatorRange.constructor!==Array)console.log("indicatorRange is not an array. (gernerateKeyResult)");else{try{var combinationDataCSVGroup,Object2DataSet=d3.group(await d3.csvParse(combinationData),d=>d.OKR,d=>d.Name).get(key).get(void 0),DataContainerElements=document.getElementsByName(TargetName)[0],combinedPercentDataCSV,combinedCSV=d3.group(await d3.csvParse(combinedPercentData),d=>d.OKR,d=>d.Name).get(key).get(void 0),ArrayOfValues=await getCategoryDeptValues(combinedCSV,mode).then(async function(data){return data}),keyResultBannerCSV,keyResultBannerCSV=(keyResultBannerCSV=d3.group(await d3.csvParse(keyResultBanner),d=>d.OKR,d=>d.Name)).get(key).get(void 0),ArrayofKeyResults=await getCategoryDeptValues(keyResultBannerCSV,keyMode).then(async function(data){return data})}catch(error){console.log(error)}if(3==mode)try{var ArrayOfValues2=await getCategoryDeptValues(combinedCSV,mode).then(async function(data){return data});constructDataForMaps(Object2DataSet,DataContainerElements),setIndicators(ArrayOfValues2[0],DataContainerElements.getElementsByClassName("project_dollars"),"money"),setIndicators(ArrayOfValues2[1],DataContainerElements.getElementsByClassName("authorized_dollars"),"money"),setIndicators(ArrayOfValues2[2],DataContainerElements.getElementsByClassName("spent_dollars"),"money"),setIndicators(ArrayOfValues2[3],DataContainerElements.getElementsByClassName("unspent_dollars"),"money"),setIndicators(ArrayOfValues[4],DataContainerElements.getElementsByClassName("percentOnTime"),"number"),setIndicators(ArrayOfValues[4],DataContainerElements.getElementsByClassName("dot"),"color",1,indicatorRange),setIndicators(ArrayOfValues[5],DataContainerElements.getElementsByClassName("dataTitle"),"number")}catch(error){console.log(error)}else constructDataForMaps(Object2DataSet,DataContainerElements);if(1==keyMode)try{setIndicators(ArrayofKeyResults[0],DataContainerElements.getElementsByClassName("dataSectTitlePercentData"),"number")}catch(error){console.log(error)}if(2==keyMode)try{setIndicators(ArrayofKeyResults[0],DataContainerElements.getElementsByClassName("dataSectTitlePercentData"),"number"),setIndicators(ArrayofKeyResults[1],DataContainerElements.getElementsByClassName("dataSectTitleNumeratorData"),"number"),setIndicators(ArrayofKeyResults[2],DataContainerElements.getElementsByClassName("dataSectTitleDenominatorData"),"number")}catch(error){console.log(error)}if(1==mode)try{setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("percentOnTime"),"number"),setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("dot"),"color",1,indicatorRange),setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectDenominator"),1==money?"money":"number"),setIndicators(ArrayOfValues[3],DataContainerElements.getElementsByClassName("dataTitle"),"number")}catch(error){console.log(error)}if(2==mode)try{setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("percentOnTime"),"number"),setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("dot"),"color",1,indicatorRange),1==money?(setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectDenominator"),"money"),setIndicators(ArrayOfValues[2],DataContainerElements.getElementsByClassName("dataSectNumerator"),"money")):(setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectDenominator"),"number"),setIndicators(ArrayOfValues[2],DataContainerElements.getElementsByClassName("dataSectNumerator"),"number")),setIndicators(ArrayOfValues[3],DataContainerElements.getElementsByClassName("dataTitle"),"number")}catch(error){console.log(error)}}}async function constructDataForMaps(KeyResultDataSet,DataContainer){if(null==KeyResultDataSet||null==DataContainer)console.log("KeyResultDataSet, or DataContainer is null. (constructDataForMaps)");else if("object"!=typeof DataContainer||"object"!=typeof KeyResultDataSet)console.log("DataContainer, or KeyResultDataSet are not objects. (constructDataForMaps)");else try{var DataContainer=DataContainer.getElementsByTagName("CANVAS"),filteredDataObject=d3.group(KeyResultDataSet,d=>d.category_or_dept),start=0;filteredDataObject.forEach((DataFromObject,index)=>{var ArrayOfValues=splitData(DataFromObject,"permits");if(index.includes("_"))var index=index.substr(0,index.lastIndexOf("_"));try{ChartJSGenrate(ArrayOfValues[0],ArrayOfValues[1],"line",DataContainer[start].id,index,"Percent fixed",index,!1,!1,!1,!1,!1,!1,!1,!1,!1,22),start+=1}catch(error){start+=1}})}catch(error){console.log(error)}}async function getCategoryDeptValues(data,mode){if(null==data||null==mode)console.log("data, or mode is null. (getCategoryDeptValues)");else if("object"!=typeof data||"number"!=typeof mode)console.log("data, or KeyResultDataSet are not objects. (getCategoryDeptValues)");else{if(1==mode||2==mode)try{console.log("MODE 1 MODE 2 TRY BLOCK.(getCategoryDeptValues)");var arrayOfValues=[],arrayOfDenominator=[],arrayOfNumerator=[],nameOfCategory=[];return(data=d3.group(data,d=>d.category_or_dept)).forEach((DataFromObject,index)=>{var start=0;for(i=0;i<DataFromObject.length;i++)"title"==DataFromObject[i].category_or_dept?(arrayOfValues.push(DataFromObject[i].value),arrayOfDenominator.push(DataFromObject[i].out_of_total),arrayOfNumerator.push(DataFromObject[i].on_time)):(arrayOfValues.push(DataFromObject[i].value),arrayOfDenominator.push(DataFromObject[i].out_of_total),arrayOfNumerator.push(DataFromObject[i].on_time),nameOfCategory.push(DataFromObject[i].category_or_dept)),start+=1}),[arrayOfValues=arrayOfValues.map(Number),arrayOfDenominator,arrayOfNumerator,nameOfCategory]}catch(error){console.log(error)}if(3==mode)try{var project_dollars=[],authorized_dollars=[],spent_dollars=[],unspent_dollars=[],value=[],nameOfCategory=[];return(data=filteredDataObject=d3.group(data,d=>d.category_or_dept)).forEach((DataFromObject,index)=>{var start=0;for(i=0;i<DataFromObject.length;i++)project_dollars.push(DataFromObject[i].project_dollars),authorized_dollars.push(DataFromObject[i].authorized_dollars),spent_dollars.push(DataFromObject[i].spent_dollars),unspent_dollars.push(DataFromObject[i].unspent_dollars),value.push(DataFromObject[i].value),nameOfCategory.push(DataFromObject[i].category_or_dept),start+=1}),[project_dollars,authorized_dollars,spent_dollars,unspent_dollars,value,nameOfCategory]}catch(error){console.log(error)}if(4==mode)try{var cardDescription=[],on_time=[],out_of_total=[],dataDescription=[],timeDescription=[],movement=[],color=[];for(i=0;i<data.length;i++)cardDescription.push(data[i].cardDescription),on_time.push(data[i].on_time),out_of_total.push(data[i].out_of_total),dataDescription.push(data[i].dataDescription),timeDescription.push(data[i].timeDescription),movement.push(data[i].movement),color.push(data[i].color);return[cardDescription,on_time,out_of_total,dataDescription,timeDescription,movement,color]}catch(error){console.log(error)}}}async function ChartJSGenrate(xAxisLabel,xAxis,type,chartCanvasID,XscaleLabelName,YscaleLabelName,LegendLabel,displayLegend,displayXScale,displayYScale,displayXTicks,displayYTicks,displayBorderGridLinesXAxis,displayBorderGridLinesYAxis,displayGridLinesXAxis,displayGridLinesYAxis,numberOfValues){var numberOfValues=-Math.abs(numberOfValues),ctx=document.getElementById(chartCanvasID).getContext("2d"),chartOptions={maintainAspectRatio:!1,layout:{padding:{left:0,right:50,top:5,bottom:0}},tooltips:{mode:"nearest",intersect:!1},legend:{display:displayLegend,position:"top",labels:{boxWidth:500,fontColor:"red"}},scales:{xAxes:[{ticks:{display:displayXTicks},gridLines:{drawBorder:displayBorderGridLinesXAxis,display:displayGridLinesXAxis,color:"black"},scaleLabel:{beginAtZero:!0,display:displayXScale,labelString:XscaleLabelName,fontColor:"red"}}],yAxes:[{ticks:{beginAtZero:!0,display:!0,suggestedMin:0,suggestedMax:100},gridLines:{drawBorder:displayBorderGridLinesYAxis,display:displayGridLinesYAxis,color:"black",borderDash:[2,2]},scaleLabel:{display:displayYScale,labelString:YscaleLabelName,fontColor:"green"}}]}},chart=new Chart(ctx,{type:type,data:{labels:xAxisLabel.slice(numberOfValues),datasets:[{label:LegendLabel,backgroundColor:"#9dc8f1",borderColor:"#7cb5ec",data:xAxis.slice(numberOfValues),pointBackgroundColor:"black",pointBorderWidth:1,pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10}]},options:chartOptions})}function splitData(dataSet,keyValue){if(null==dataSet||null==keyValue)console.log("dataSet, or keyValue is null. (splitData)");else if("object"!=typeof dataSet||"string"!=typeof keyValue)console.log("dataSet is not an object, or keyValue is not a string. (splitData)");else try{var dateInArray=[],dataInArray=[],months=["July","August","September","October","November","December","January","February","March","April","May","June"];for(index=0;index<dataSet.length;index++)dataInArray.push(dataSet[index].value),dateInArray.push(dataSet[index].date_or_period);if(dataInArray2=dataInArray.map(Number),(dateInArray=dateInArray.map(Number))[dateInArray.length-1]<=12)for(i=0;i<dateInArray.length;i++)dateInArray[i]=months[i];else for(i=0;i<dateInArray.length;i++)d=new Date(1e3*dateInArray[i]),dateInArray[i]=d.getMonth()+1+"/"+d.getDate()+"/"+d.getFullYear();return[dateInArray,dataInArray2]}catch(error){console.log(error)}}async function getData(url){if(null==url)console.log("url is null. (getData)");else if("string"!=typeof url)console.log("url is not a string. (getData)");else try{const response=await fetch(url,{cache:"no-cache"}),data=await response.text();return data}catch(error){console.log(error)}}async function setIndicators(percentageCalculation,domElement,typeToSet,mode,indicatorRange){if(null==percentageCalculation||null==domElement||null==typeToSet)console.log("percentageCalculation, domElement, or typeToSet are null. (setIndicators)");else try{if("money"==typeToSet&&[].slice.call(percentageCalculation).forEach((element,index)=>{void 0!==domElement[index]&&(domElement[index].innerHTML=formatMoney(element))}),"color"==typeToSet&&(1==mode&&[].slice.call(domElement).forEach((div,index)=>{void 0!==div&&(console.log(percentageCalculation[index]),percentageCalculation[index]>=indicatorRange[1]&&(console.log("DOT DATA CALC",percentageCalculation[index],indicatorRange[1]),div.className="dot greendot"),percentageCalculation[index]<indicatorRange[1]&&percentageCalculation[index]>=indicatorRange[0]&&(console.log("DOT DATA CALC",percentageCalculation[index],indicatorRange[1],indicatorRange[0]),div.className="dot yellowdot"),percentageCalculation[index]<indicatorRange[0]&&(console.log("DOT DATA CALC",percentageCalculation[index],indicatorRange[0]),div.className="dot reddot"))}),2==mode&&[].slice.call(domElement).forEach((div,index)=>{void 0!==div&&(divProgresssMessage=div.getElementsByClassName("progesssMessage"),2==percentageCalculation[index]&&(div.className="card-header bg-success",divProgresssMessage[0].innerHTML="Success"),1==percentageCalculation[index]&&(divProgresssMessage=div.getElementsByClassName("On Our Way"),div.className="card-header  bg-warning"),0==percentageCalculation[index]&&(div.className="card-header bg-danger",divProgresssMessage=div.getElementsByClassName("Problem Solving")))}),3==mode&&[].slice.call(domElement).forEach((div,index)=>{void 0!==div&&(1==percentageCalculation[index]&&(div.className="indicator fas  fa-arrow-up"),0==percentageCalculation[index]&&(div.className="indicator fas  fa-arrows-alt-h"),-1==percentageCalculation[index]&&(div.className="indicator fas fa-arrow-down"))})),"number"==typeToSet&&[].slice.call(percentageCalculation).forEach((element,index)=>{void 0!==domElement[index]&&(domElement[index].innerHTML=element)}),"date"==typeToSet)for(i=0;i<domElement.length;i++)domElement[i].innerHTML=percentageCalculation}catch(error){console.log(error)}}async function generateKeyBoxResult(key,TargetName,data){if(null==key||null==TargetName||null==data)console.log("(key, TargetName, or data are null. (generateKeyBoxResult)");else try{var dataCSV,dataCSVGrouped=d3.group(await d3.csvParse(data),d=>d.obj,d=>d.Name).get(key).get(void 0),DataContainerElements=document.getElementsByName(TargetName)[0],ArrayOfValues=await getCategoryDeptValues(dataCSVGrouped,4).then(async function(data){return data});ArrayOfValues[5]=ArrayOfValues[5].map(Number),ArrayOfValues[6]=ArrayOfValues[6].map(Number),setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("goalMessage"),"number"),setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectNumerator"),"number"),setIndicators(ArrayOfValues[2],DataContainerElements.getElementsByClassName("dataSectDenominator"),"number"),setIndicators(ArrayOfValues[3],DataContainerElements.getElementsByClassName("dataDescription"),"number"),setIndicators(ArrayOfValues[4],DataContainerElements.getElementsByClassName("timeDescription"),"number"),setIndicators(ArrayOfValues[6],DataContainerElements.getElementsByClassName("card-header"),"color",2),setIndicators(ArrayOfValues[5],DataContainerElements.getElementsByClassName("indicator"),"color",3)}catch(error){console.log(error)}}async function setDateData(url,TargetName){if(null==url||null==TargetName)console.log("url, or TargetName are null. (setDateData)");else try{var dateData=await getData(url).then(async function(data){return data}),dateData=JSON.parse(dateData),date=new Date(dateData[0].commit.author.date),months,dateYouWant,DataContainerElements;setIndicators(["January","February","March","April","May","June","July","Auguest","September","October","November","December"][date.getMonth()]+" "+date.getDate(),document.getElementsByName(TargetName)[0].getElementsByClassName("date"),"date")}catch(error){console.log(error)}}function formatMoney(number){if(null==number)console.log("number is null. (formatMoney)");else try{return(number=parseInt(number,10)).toLocaleString("en-US",{style:"currency",currency:"USD"})}catch(error){console.log(error)}}