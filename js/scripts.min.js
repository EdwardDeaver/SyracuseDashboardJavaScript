async function generateKeyResult(key,TargetName,mode,keyMode,combinationData,keyResultBanner,combinedPercentData,money){combinationDataCSVGroup=d3.group(await d3.csvParse(combinationData),d=>d.OKR,d=>d.Name);var Object2DataSet=combinationDataCSVGroup.get(key).get(void 0),DataContainerElements=document.getElementsByName(TargetName)[0];combinedPercentDataCSV=d3.group(await d3.csvParse(combinedPercentData),d=>d.OKR,d=>d.Name),combinedCSV=combinedPercentDataCSV.get(key).get(void 0),ArrayOfValues=await getCategoryDeptValues(combinedCSV,mode).then(async function(data){return data});var keyResultBannerCSV=(keyResultBannerCSV=d3.group(await d3.csvParse(keyResultBanner),d=>d.OKR,d=>d.Name)).get(key).get(void 0);ArrayofKeyResults=await getCategoryDeptValues(keyResultBannerCSV,keyMode).then(async function(data){return data}),3==mode?(ArrayOfValues2=await getCategoryDeptValues(combinedCSV,mode).then(async function(data){return data}),constructDataForMaps(Object2DataSet,DataContainerElements),setIndicators(ArrayOfValues2[0],DataContainerElements.getElementsByClassName("project_dollars"),"money"),setIndicators(ArrayOfValues2[1],DataContainerElements.getElementsByClassName("authorized_dollars"),"money"),setIndicators(ArrayOfValues2[2],DataContainerElements.getElementsByClassName("spent_dollars"),"money"),setIndicators(ArrayOfValues2[3],DataContainerElements.getElementsByClassName("unspent_dollars"),"money"),setIndicators(ArrayOfValues[4],DataContainerElements.getElementsByClassName("percentOnTime"),"number"),setIndicators(ArrayOfValues[4],DataContainerElements.getElementsByClassName("dot"),"color",1),setIndicators(ArrayOfValues[5],DataContainerElements.getElementsByClassName("dataTitle"),"number")):constructDataForMaps(Object2DataSet,DataContainerElements),1==keyMode&&setIndicators(ArrayofKeyResults[0],DataContainerElements.getElementsByClassName("dataSectTitlePercentData"),"number"),2==keyMode&&(setIndicators(ArrayofKeyResults[0],DataContainerElements.getElementsByClassName("dataSectTitlePercentData"),"number"),setIndicators(ArrayofKeyResults[1],DataContainerElements.getElementsByClassName("dataSectTitleNumeratorData"),"number"),setIndicators(ArrayofKeyResults[2],DataContainerElements.getElementsByClassName("dataSectTitleDenominatorData"),"number")),1==mode&&(setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("percentOnTime"),"number"),setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("dot"),"color",1),setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectDenominator"),1==money?"money":"number"),setIndicators(ArrayOfValues[3],DataContainerElements.getElementsByClassName("dataTitle"),"number")),2==mode&&(setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("percentOnTime"),"number"),setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("dot"),"color",1),1==money?(setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectDenominator"),"money"),setIndicators(ArrayOfValues[2],DataContainerElements.getElementsByClassName("dataSectNumerator"),"money")):(setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectDenominator"),"number"),setIndicators(ArrayOfValues[2],DataContainerElements.getElementsByClassName("dataSectNumerator"),"number")),setIndicators(ArrayOfValues[3],DataContainerElements.getElementsByClassName("dataTitle"),"number"))}async function constructDataForMaps(KeyResultDataSet,DataContainer){DataContainer=DataContainer.getElementsByTagName("CANVAS"),filteredDataObject=d3.group(KeyResultDataSet,d=>d.category_or_dept);var start=0;filteredDataObject.forEach((DataFromObject,index)=>{var ArrayOfValues=splitData(DataFromObject,"permits");index.includes("_")&&(index=index.substr(0,index.lastIndexOf("_")));try{ChartJSGenrate(ArrayOfValues[0],ArrayOfValues[1],"line",DataContainer[start].id,index,"Percent fixed",index,!1,!1,!1,!1,!1,!1,!1,!1,!1,22),start+=1}catch(error){start+=1}})}async function getCategoryDeptValues(data,mode){if(1==mode||2==mode){var arrayOfValues=[],arrayOfDenominator=[],arrayOfNumerator=[],nameOfCategory=[];return(data=filteredDataObject=d3.group(data,d=>d.category_or_dept)).forEach((DataFromObject,index)=>{var start=0;for(i=0;i<DataFromObject.length;i++)"title"==DataFromObject[i].category_or_dept?(arrayOfValues.push(DataFromObject[i].value),arrayOfDenominator.push(DataFromObject[i].out_of_total),arrayOfNumerator.push(DataFromObject[i].on_time)):(arrayOfValues.push(DataFromObject[i].value),arrayOfDenominator.push(DataFromObject[i].out_of_total),arrayOfNumerator.push(DataFromObject[i].on_time),nameOfCategory.push(DataFromObject[i].category_or_dept)),start+=1}),[arrayOfValues=arrayOfValues.map(Number),arrayOfDenominator,arrayOfNumerator,nameOfCategory]}if(3==mode){var project_dollars=[],authorized_dollars=[],spent_dollars=[],unspent_dollars=[],value=[],nameOfCategory=[];return(data=filteredDataObject=d3.group(data,d=>d.category_or_dept)).forEach((DataFromObject,index)=>{var start=0;for(i=0;i<DataFromObject.length;i++)project_dollars.push(DataFromObject[i].project_dollars),authorized_dollars.push(DataFromObject[i].authorized_dollars),spent_dollars.push(DataFromObject[i].spent_dollars),unspent_dollars.push(DataFromObject[i].unspent_dollars),value.push(DataFromObject[i].value),nameOfCategory.push(DataFromObject[i].category_or_dept),start+=1}),[project_dollars,authorized_dollars,spent_dollars,unspent_dollars,value,nameOfCategory]}if(4==mode){var cardDescription=[],on_time=[],out_of_total=[],dataDescription=[],timeDescription=[],movement=[],color=[];for(i=0;i<data.length;i++)cardDescription.push(data[i].cardDescription),on_time.push(data[i].on_time),out_of_total.push(data[i].out_of_total),dataDescription.push(data[i].dataDescription),timeDescription.push(data[i].timeDescription),movement.push(data[i].movement),color.push(data[i].color);return[cardDescription,on_time,out_of_total,dataDescription,timeDescription,movement,color]}}async function ChartJSGenrate(xAxisLabel,xAxis,type,chartCanvasID,XscaleLabelName,YscaleLabelName,LegendLabel,displayLegend,displayXScale,displayYScale,displayXTicks,displayYTicks,displayBorderGridLinesXAxis,displayBorderGridLinesYAxis,displayGridLinesXAxis,displayGridLinesYAxis,numberOfValues){var numberOfValues=-Math.abs(numberOfValues),ctx=document.getElementById(chartCanvasID).getContext("2d"),chartOptions={maintainAspectRatio:!1,layout:{padding:{left:0,right:50,top:5,bottom:0}},tooltips:{mode:"nearest",intersect:!1},legend:{display:displayLegend,position:"top",labels:{boxWidth:500,fontColor:"red"}},scales:{xAxes:[{ticks:{display:displayXTicks},gridLines:{drawBorder:displayBorderGridLinesXAxis,display:displayGridLinesXAxis,color:"black"},scaleLabel:{beginAtZero:!0,display:displayXScale,labelString:XscaleLabelName,fontColor:"red"}}],yAxes:[{ticks:{beginAtZero:!0,display:!0,suggestedMin:0,suggestedMax:100},gridLines:{drawBorder:displayBorderGridLinesYAxis,display:displayGridLinesYAxis,color:"black",borderDash:[2,2]},scaleLabel:{display:displayYScale,labelString:YscaleLabelName,fontColor:"green"}}]}},chart=new Chart(ctx,{type:type,data:{labels:xAxisLabel.slice(numberOfValues),datasets:[{label:LegendLabel,backgroundColor:"#9dc8f1",borderColor:"#7cb5ec",data:xAxis.slice(numberOfValues),pointBackgroundColor:"black",pointBorderWidth:1,pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10}]},options:chartOptions})}function splitData(dataSet,keyValue){var dateInArray=[],dataInArray=[],months=["July","August","September","October","November","December","January","February","March","April","May","June"];for(index=0;index<dataSet.length;index++)dataInArray.push(dataSet[index].value),dateInArray.push(dataSet[index].date_or_period);if(dataInArray2=dataInArray.map(Number),(dateInArray=dateInArray.map(Number))[dateInArray.length-1]<=12)for(i=0;i<dateInArray.length;i++)dateInArray[i]=months[i];else for(i=0;i<dateInArray.length;i++)d=new Date(1e3*dateInArray[i]),dateInArray[i]=d.getMonth()+1+"/"+d.getDate()+"/"+d.getFullYear();return[dateInArray,dataInArray2]}async function getData(url){const response=await fetch(url,{cache:"no-cache"}),data=await response.text();return data}async function setIndicators(percentageCalculation,domElement,typeToSet,mode){if("money"==typeToSet&&[].slice.call(percentageCalculation).forEach((element,index)=>{void 0!==domElement[index]&&(domElement[index].innerHTML=formatMoney(element))}),"color"==typeToSet&&(1==mode&&[].slice.call(domElement).forEach((div,index)=>{void 0!==div&&(percentageCalculation[index]>=95&&(div.className="dot greendot"),percentageCalculation[index]<95&&percentageCalculation[index]>=74&&(div.className="dot yellowdot"),percentageCalculation[index]<74&&(div.className="dot reddot"))}),2==mode&&[].slice.call(domElement).forEach((div,index)=>{void 0!==div&&(divProgresssMessage=div.getElementsByClassName("progesssMessage"),2==percentageCalculation[index]&&(div.className="card-header bg-success",divProgresssMessage[0].innerHTML="Success"),1==percentageCalculation[index]&&(divProgresssMessage=div.getElementsByClassName("On Our Way"),div.className="card-header  bg-warning"),0==percentageCalculation[index]&&(div.className="card-header bg-danger",divProgresssMessage=div.getElementsByClassName("Problem Solving")))}),3==mode&&[].slice.call(domElement).forEach((div,index)=>{void 0!==div&&(1==percentageCalculation[index]&&(div.className="indicator fas  fa-arrow-up"),0==percentageCalculation[index]&&(div.className="indicator fas  fa-arrows-alt-h"),-1==percentageCalculation[index]&&(div.className="indicator fas fa-arrow-down"))})),"number"==typeToSet&&[].slice.call(percentageCalculation).forEach((element,index)=>{void 0!==domElement[index]&&(domElement[index].innerHTML=element)}),"date"==typeToSet)for(i=0;i<domElement.length;i++)domElement[i].innerHTML=percentageCalculation}async function generateKeyBoxResult(key,TargetName,data){dataCSV=d3.group(await d3.csvParse(data),d=>d.obj,d=>d.Name);var dataCSVGrouped=dataCSV.get(key).get(void 0),DataContainerElements=document.getElementsByName(TargetName)[0];ArrayOfValues=await getCategoryDeptValues(dataCSVGrouped,4).then(async function(data){return data}),ArrayOfValues[5]=ArrayOfValues[5].map(Number),ArrayOfValues[6]=ArrayOfValues[6].map(Number),setIndicators(ArrayOfValues[0],DataContainerElements.getElementsByClassName("goalMessage"),"number"),setIndicators(ArrayOfValues[1],DataContainerElements.getElementsByClassName("dataSectNumerator"),"number"),setIndicators(ArrayOfValues[2],DataContainerElements.getElementsByClassName("dataSectDenominator"),"number"),setIndicators(ArrayOfValues[3],DataContainerElements.getElementsByClassName("dataDescription"),"number"),setIndicators(ArrayOfValues[4],DataContainerElements.getElementsByClassName("timeDescription"),"number"),setIndicators(ArrayOfValues[6],DataContainerElements.getElementsByClassName("card-header"),"color",2),setIndicators(ArrayOfValues[5],DataContainerElements.getElementsByClassName("indicator"),"color",3)}async function setDateData(url,TargetName){var dateData=await getData(url).then(async function(data){return data});dateData=JSON.parse(dateData),date=new Date(dateData[0].commit.author.date),months=["January","February","March","April","May","June","July","Auguest","September","October","November","December"],dateYouWant=months[date.getMonth()]+" "+date.getDate();var DataContainerElements=document.getElementsByName(TargetName)[0];setIndicators(dateYouWant,DataContainerElements.getElementsByClassName("date"),"date")}function formatMoney(number){return(number=parseInt(number,10)).toLocaleString("en-US",{style:"currency",currency:"USD"})}